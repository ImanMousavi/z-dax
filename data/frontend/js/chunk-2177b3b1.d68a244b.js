(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-2177b3b1"],{"92e0":function(t,e,n){"use strict";n.r(e);var o=n("ddd0").a,s=n("2877"),a={components:{"modal-phone":Object(s.a)(o,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("a-modal",{attrs:{"wrap-class-name":"phone-modal",footer:null,width:400},on:{cancel:t.onChangeShow,ok:t.onChangeShow},model:{value:t.modal.enabled,callback:function(e){t.$set(t.modal,"enabled",e)},expression:"modal.enabled"}},[o("button",{directives:[{name:"show",rawName:"v-show",value:t.step>1,expression:"step > 1"}],staticClass:"ant-modal-action",attrs:{type:"button","aria-label":"Action"},on:{click:function(e){t.step--}}},[o("span",{staticClass:"ant-modal-action-x"},[o("i",{staticClass:"ic-arrow-back"})])]),1===t.step?o("div",[o("img",{staticClass:"logo-modal",attrs:{src:n("f567")}}),o("div",{staticClass:"title"},[t._v("\n      Phone number\n    ")]),o("div",{staticClass:"desc"},[t._v("\n      Enter your phone number so we can send you an SMS with the\n      authentication code.\n    ")]),t.$store.state.user.phone?o("form",{on:{submit:function(e){return e.preventDefault(),t.sendCode(e)}}},[o("div",{staticClass:"phone-number"},[o("auth-input",{ref:"phone_number",attrs:{name:"phone_number",prefix:"+","class-name":{g:!0},placeholder:"Phone number","label-need":!0,value:t.$store.state.user.phone.number},model:{value:t.phone_number,callback:function(e){t.phone_number=e},expression:"phone_number"}})],1),o("button",{attrs:{type:"submit",disabled:!t.phone_number}},[t.modal.loading_button?o("a-icon",{staticStyle:{"font-size":"24px"},attrs:{type:"loading",spin:""}}):t._e(),t._v("\n        Send Code\n      ")],1)]):t._e()]):o("div",[o("img",{staticClass:"logo-modal",attrs:{src:n("f567")}}),o("div",{staticClass:"title"},[t._v("\n      Authentication\n    ")]),o("div",{staticClass:"desc"},[t._v("\n      Please enter the SMS verification code below +"+t._s(t.phone_number)+" . Enter\n      below.\n    ")]),o("form",{on:{submit:function(e){return e.preventDefault(),t.verifyCode(e)}}},[o("auth-input",{ref:"verification_code",attrs:{name:"verification_code","class-name":{g:t.verification_code},placeholder:"Verification code",maxlength:"5","label-need":!0},model:{value:t.verification_code,callback:function(e){t.verification_code=e},expression:"verification_code"}}),o("button",{attrs:{type:"submit",disabled:!(6===t.otp_code.length&&5===t.verification_code.length)}},[t.modal.loading_button?o("a-icon",{staticStyle:{"font-size":"24px"},attrs:{type:"loading",spin:""}}):t._e(),t._v("\n        Confirm\n      ")],1)],1)])])}),[],!1,null,null,null).exports},mixins:[n("efdb").a]},i=Object(s.a)(a,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"setting-main information"},[n("div",{staticClass:"setting-head"},[t._v(t._s(t.$t("usercenter.account_information.title")))]),n("div",{staticClass:"setting-body"},[n("table",{staticClass:"table"},t._l(t.$store.getters["user/getAccountInformation"],(function(e,o){return n("tr",{key:o,staticClass:"row"},[n("td",{staticClass:"name",domProps:{textContent:t._s(e.name)}}),n("td",{staticClass:"desc",domProps:{textContent:t._s(e.desc)}}),"text"===e.type?n("td",{staticClass:"value",domProps:{textContent:t._s(e.value)}}):n("td",{staticClass:"action"},[n("a",{domProps:{textContent:t._s(e.action.text)},on:{click:function(n){return t.onClick(e.action.runner)}}})])])})),0)]),n("modal-phone",{ref:"phone"})],1)}),[],!1,null,null,null);e.default=i.exports},ddd0:function(t,e,n){"use strict";(function(t,o){n("96cf");var s=n("3b8d"),a=n("9190"),i=n("b056");e.a={components:{"auth-input":a.a},mixins:[i.a],data:function(){return{step:1,phone_number:"",verification_code:""}},mounted:function(){this.phone_number=this.$store.state.user.phone.number},methods:{resetInput:function(){this.phone_number="",this.resetStep(),this.$store.state.user.otp},onChangeShow:function(){this.modal.enabled||(this.resetInput(),this.step=1)},sendCode:function(){var e=Object(s.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.modal.loading_button=!0,n=this.phone_number,console.log(this.$store.state.user.phone),e.prev=3,e.next=6,new t("auth").post("resource/phones".concat(this.$store.state.user.phone.number&&this.$store.state.user.phone.number===n?"/send_code":""),{phone_number:"+"+n});case 6:this.step++,o.runNotice("success","Code was sent successfully"),this.modal.loading_button=!1,e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(3),this.modal.loading_button=!1,e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,this,[[3,11]])})));return function(){return e.apply(this,arguments)}}(),verifyCode:function(){var e=Object(s.a)(regeneratorRuntime.mark((function e(){var n,s,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.modal.loading_button=!0,n=this.phone_number,s=this.verification_code,a={phone_number:n,verification_code:s},this.$store.state.user.otp&&(a.otp_code=this.otp_code),e.prev=4,e.next=7,new t("auth").post("resource/phones/verify",a);case 7:o.runNotice("success","Phone was verified successfully"),this.modal.loading_button=!1,e.next=15;break;case 11:return e.prev=11,e.t0=e.catch(4),this.modal.loading_button=!1,e.abrupt("return",e.t0);case 15:case"end":return e.stop()}}),e,this,[[4,11]])})));return function(){return e.apply(this,arguments)}}()}}}).call(this,n("1e6b").ApiClient,n("ddc4"))}}]);